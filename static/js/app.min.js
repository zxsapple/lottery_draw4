$(function() {
	function t(t, e) {
		return t = t || 100, e = e || 0, Math.ceil(Math.random() * (t - e) + e)
	}

	function e(t) {
		var e = $("<div class='comment'>" + t + "</div>");
		e.on("animationend webkitAnimationEnd", function(t) {
			$(this).remove()
		}).appendTo(g)
	}

	function n(t, e) {
		if (!i) {
			if (d = t, o.text(m[d][0]), s.text("What's the prize？"), c.text(""), a.addClass("shake"), k = 0, e) {
				var n = $(".tip").show();
				setTimeout(function() {
					n.remove()
				}, 4e3)
			}
			_hmt.push(["_trackEvent", "time", "change", m[d][0]])
		}
	}

	var mp3Draw = new Audio('static/music/draw.mp3');
	var mp3Reward = new Audio('static/music/reward.mp3');
	var i = 0,
		a = $(".title"),
		o = $(".time"),
		s = $(".what"),
		c = $(".punctuation"),
		l = $("#start"),
		r = $("#temp_container"),
		m = [
			["",
				""
				.split(" ")
			],
			[""],
			// ["晚饭",
			// 	"盖浇饭 砂锅 大排档 米线 满汉全席 西餐 麻辣烫 自助餐 炒面 快餐 水果 西北风 馄饨 火锅 烧烤 泡面 水饺 日本料理 涮羊肉 味千拉面 面包 扬州炒饭 自助餐 菜饭骨头汤 茶餐厅 海底捞 西贝莜面村 披萨 麦当劳 KFC 汉堡王 卡乐星 兰州拉面 沙县小吃 烤鱼 烤肉 海鲜 铁板烧 韩国料理 粥 快餐 萨莉亚 桂林米粉 东南亚菜 甜点 农家菜 川菜 粤菜 湘菜 本帮菜 生活 全家便当"
			// 	.split(" ")
			// ],
			["",
				"棒棒糖 抽纸 AD钙奶 趣多多 吸吸果冻 乐事 德芙巧克力 棒棒糖 文件袋 QQ糖 黑笔 大本子 棒棒糖 订书机 德芙巧克力 趣多多 吸吸果冻 棒棒糖 QQ糖 德芙巧克力 黑笔 吸吸果冻 棒棒糖 QQ糖 小本子 AD钙奶 趣多多 文件袋 棒棒糖 QQ糖 乐事 大本子 德芙巧克力 荧光笔 AD钙奶 大本子 QQ糖 黑笔 趣多多 QQ糖 棒棒糖 AD钙奶 德芙巧克力 小本子 棒棒糖 文件袋 黑笔 棒棒糖 QQ糖 吸吸果冻 棒棒糖 趣多多 大本子 小本子 文件夹 垃圾袋 QQ糖 棒棒糖 文件袋 德芙巧克力 黑笔 冰淇淋 吸吸果冻 棒棒糖 趣多多 奥利奥 文件袋 棒棒糖 德芙巧克力 QQ糖 文件夹 棒棒糖 小本子 奥利奥 QQ糖 德芙巧克力"
				.split(" ")
			]
		],
		wordArray=["你的努力我们看得见",
			"今天你努力了吗？",
			"你有你的精彩",
			"颜值与实力并存",
			"没有行动的梦想都是妄想",
			"不忘初心，砥砺前行",
			"最好的年纪不要辜负最美的自己",
			"万丈高楼平地起，成功还得靠自己",
			"愿你成为自己的太阳",
			"奇迹是努力的另外一个名字",
			"生命不止，奋斗不息",
			"余生好贵，请勿浪费",
			"未来的你一定会感谢现在拼命的自己",
			"遇见更好的自己",
			"越努力越幸运",
			"只争朝夕，不负韶华",
			"心有所信，方能行远"
		],
		wordIndex=0,
		d = 2,
		p = (new Date).getHours(),
		f = $(window),
		g = $("body"),
		v = $("#wrapper"),
		x = $(".os"),
		k = 0,
		w = "human",
		b, C, E;
	m[1][1] = m[2][1], a.on("animationend webkitAnimationEnd", function(t) {
		$(this).removeClass("shake")
	}), r.on("animationend webkitAnimationEnd", function(t) {
		$(t.target).remove()
	}), l.click(function() {
		if (g.toggleClass("playing", !i), i) {
			mp3Draw.load();
			mp3Reward.play();
			i = 0,
			"monster" == w && x.text(u[t(u.length)]),
				c.text("！"),
				l.find("span").text("开始"),
				clearTimeout(b),


				removeGood(m[2][1], s.text());
			if (wordIndex > wordArray.length-1) {
				wordIndex = 0;
			}
				$("#word").text(wordArray[wordIndex]);
				wordIndex++;

		}else {

			$(mp3Draw).bind("ended", function() {
				mp3Draw.play();
			});
			mp3Draw.play();
			if (m[2][1].length == 0) {
				s.text("")
				c.text("已经全部抽取结束")
				return;
			}
			i = 1, k++, 2 == k ;
			var n = "human" == w ? m[2][1] : h;
			c.text("？"), l.find("span").text("停"), x.text(""),
				function o() {
					var e = t(n.length) - 1,
						i = n[e],
						a = t(C),
						c = t(E - 50),
						l = t(37, 14);
					s.text(i);
					var m = $("<span class='temp'>" + i + "</span>").css({
						top: a,
						left: c,
						color: "rgba(0,0,0," + t(7, 3) / 10 + ")",
						fontSize: l + "px"
					}).appendTo(r);
					b = setTimeout(o, 60)
				}()
		}
	}), $("#toggle span").click(function() {
		$(this).hasClass("selected") || ($(this).addClass("selected").siblings().removeClass("selected"), w = $(this).data(
			"type"), alert("monster" == w ? "注意！前方高能！(非昭欧勿进)" : "还是人类好吃呢Ψ(￣∀￣)Ψ"), k = 0, _hmt.push(["_trackEvent", "type",
			"toggle", w
		]))
	}), 9 > p || p >= 23 ? n(0, 1) : 13 > p && n(1, 1), a.click(function() {
		n(d >= m.length - 1 ? 0 : d + 1)
	}), $("#ribbon").click(function() {
		return alert(this.title), !1
	}), f.resize(function() {
		E = f.width(), C = f.height()
	}).resize()
});
function removeGood (arr,txt) {
	for (i = 0; i < arr.length; i++) {
		if (arr[i] == txt) {
			arr.splice(i, 1);
			break;
		}
	}
}
function changeTitle(wordArray,) {

}
